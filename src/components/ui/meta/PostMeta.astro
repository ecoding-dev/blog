---
import FormattedDate from '../../FormattedDate.astro';
import { slugifyTag as slugify } from '../../../lib/slug';
import authors from '../../../data/authors.json';
import SocialBadges from './SocialBadges.astro';
import SkillBadges from './SkillBadges.astro';

interface Props {
  pubDate: Date;
  readingTimeMin: number;
  author: any;
}
const { pubDate, readingTimeMin, author } = Astro.props as Props;
---

<div class="sw-post-meta flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-50 dark:bg-gray-800 px-4 py-5 rounded-sm">
  <div class="flex items-top gap-3">
    <div class="w-12 h-12 flex-shrink-0 rounded-full overflow-hidden border border-[color:var(--color-border-light)] dark:border-[color:var(--color-border-dark)]">
      <img src={author.avatar} alt={author.name} width="48" height="48" class="w-full h-full object-cover" />
    </div>
    <div class="flex flex-col min-w-0">
      <a href={`/blog/author/${author.id }/`} class="no-underline text-sm font-semibold text-[color:var(--color-text-primary)] dark:text-[color:var(--color-text-primary-dark)] hover:text-[color:var(--accent)] truncate">{author.name}</a>
      {author.role && <span class="text-xs text-gray dark:text-gray-400 truncate">{author.role}</span>}
      {author.bio && <span class="text-xs text-[color:var(--color-text-secondary)] dark:text-[color:var(--color-text-secondary-dark)] mt-1 line-clamp-2">{author.bio}</span>}
      {author.social && <SocialBadges social={author.social} />}
      <hr class="mt-4 mb-3 border-gray-200 dark:border-gray-700">
      {author.skills && author.skills.length > 0 && (
          <SkillBadges skills={author.skills} />
      )}
    </div>
  </div>
</div>