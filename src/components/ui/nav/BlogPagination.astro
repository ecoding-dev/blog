---
interface Props {
  currentPage: number;
  totalPages: number;
  basePath: string; // e.g. '/blog/page' or '/@username/page'
  firstPagePath?: string; // Optional path for the first page, e.g. '/@username'
}

const { currentPage, totalPages, basePath, firstPagePath } = Astro.props as Props;
const prevHref = currentPage > 1
  ? (currentPage === 2 && firstPagePath ? firstPagePath : `${basePath}/${currentPage - 1}/`)
  : null;
const nextHref = currentPage < totalPages ? `${basePath}/${currentPage + 1}/` : null;
---

{totalPages > 1 && (
  <nav class="mt-6 flex items-center justify-center gap-3" aria-label="Pagination">
    {prevHref ? (
      <a href={prevHref} class="sw-btn">Previous</a>
    ) : (
      <span class="sw-btn" style="opacity:.5; pointer-events:none;">Previous</span>
    )}
    <span class="text-sm text-[color:var(--color-text-muted)]">
      Page {currentPage} of {totalPages}
    </span>
    {nextHref ? (
      <a href={nextHref} class="sw-btn">Next</a>
    ) : (
      <span class="sw-btn" style="opacity:.5; pointer-events:none;">Next</span>
    )}
  </nav>
)}
